<oa-module-loader>

<oa-loading-panel message="Nodes are loading..."
                  ng-show="!error && !data.$resolved">
</oa-loading-panel>
<oa-error-panel title="Error {{error.status}}"
                message="The resource could not be found."
                ng-if="error.statusText === 'NOT FOUND'">
</oa-error-panel>

<oadatatable ng-show="!error && data.results"
             class="oadatatable tc_cephNodesTable"
             data="data"
             filter-config="filterConfig"
             selection="selection"
             on-selection-change="onSelectionChange(selection)">
  <table class="table table-striped table-bordered table-hover dataTable datatable">
    <thead>
      <tr>
        <!-- Removes checkbox column
        <th class="oadatatablecheckbox" ng-if="selection.available">
          <input type="checkbox" ng-model="selection.checkAll"/>
        </th>
        -->
        <th ng-show="columns['Hostname']" sortfield="hostname" sortdir="asc" sortheaderclass sortdefault>Hostname</th>
        <th ng-show="columns['Addresses']" sortfield="addresses" sortdir="asc" sortheaderclass>Addresses</th>
        <th ng-show="columns['Cluster']" sortfield="cluster" sortdir="asc" sortheaderclass>Cluster</th>
        <th ng-show="columns['Roles']">Roles</th>
        <th ng-show="columns['Key status']" sortfield="key_status" sortdir="asc" sortheaderclass>Key status</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="row in data.results"
          ng-class="{ info: isRowSelected(row) }"
          class="clickable"
          ng-click="toggleSelection(row, $event)">
        <!-- Removes checkbox column
        <td ng-if="selection.available">
          <input type="checkbox" checklist-model="selection.items" checklist-value="row"/>
        </td>
        -->
        <td ng-show="columns['Hostname']" ng-bind="row.hostname"></td>
        <td ng-show="columns['Addresses']" ng-bind="row.addresses"></td>
        <td ng-show="columns['Cluster']" ng-bind="row.cluster"></td>
        <td ng-show="columns['Roles']" ng-bind="row.roles"></td>
        <td ng-show="columns['Key status']" ng-bind="row.key_status"></td>
      </tr>
    </tbody>
  </table>
</oadatatable>

<div id="more" ui-view="statistics">
</div>

</oa-module-loader>
