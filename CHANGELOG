openATTIC Changelog
===================

Version 2.0.11, (not released yet):
-----------------------------------

* WebUI: Add dropdown menu to the ceph pool list to select a cluster (OP-1104)
* WebUI: Save selected cluster between page changes (OP-1131)
* Backend: Removed simplejson dependency (OP-783)
* Backend: Fixed "close_connection is superseded by close_old_connections.
  close_connection()" RemovedInDjango18Warning (OP-809)
* Backend: Exported Ceph osd details in the REST API as `/api/ceph/<fsid>/osds` (OP-1035)
* Backend: Added two missing parameters 'delete' and 'id', added in OP-736,
  to dbus-send Samba writeconf calls (OP-1113)
* Backend: Fixed warnings from the Ceph module when calling `oaconfig install` (OP-1121)
* Backend: Added licence headers for nodb files (OP-1125)
* Backend: Switched to Django logging functionality for enhanced logging quality (OP-1126)
* Backend: Added searching, filtering and ordering to nested viewsets (OP-1090, OP-1129, OP-1142)
* Backend: Fixed crash caused by unexpected output of `ceph osd dump` in the `hit_set_params` field (OP-1130)
* Backend: Provided a detail page for Ceph pools via the REST API (OP-1071)
* Backend: Revised the Ceph pool listing (OP-1135)
* Backend: Enable logging for the Nagios and Ceph module by default (thanks to Eric Jackson)
* Backend: Let the Ceph module check for keyring permissions and log permission problems (thanks to Eric Jackson)
* Installation: Enabled logrotate configuration for openattic.log (OP-1124)
* Installation: Added instructions to create `openattic.log` with correct permissions when installing packages (OP-1132)
* Documentation: Added styleguide for E2E tests (OP-1015)
* Documentation: Added note about extra package which needs to be installed 
  when using Ubuntu 14.04 LTS in order to get lio-utils working (OP-1105)

Version 2.0.10, 20. Apr 2016:
-----------------------------

* WebUI: Show an error message if javascript is disabled (OP-580)
* WebUI: Remove Smartadmin and added a new openATTIC theme (OP-585)
* WebUI: replaced all SmallBox notifications by toasty notifications (OP-720)
* WebUI: Disable resize for btrfs volumes (OP-911)
* WebUI: New pagination template/layout (OP-1003)
* WebUI: Accordion header is now clickalbe (OP-1064)
* WebUI: Add d3, nvd3 and angular-nvd3 (OP-1074)
* WebUI: Ceph pool data table (OP-867)
* WebUI/QA: Refactor and add tests to volume_resize.e2e.js (OP-912)
* WebUI/QA: Added afterAll function to all tests (OP-980)
* WebUI/QA: Added e2e tests to test the pagination (OP-1010)
* WebUI/QA: Ceph menu related e2e tests (OP-945)
* WebUI/QA: Added very basic test case for ceph pool overview (OP-1102)
* Backend: Added basic infrastructure to directly gather information from Ceph
  clusters (OP-1014)
* Backend: List all existing Pools and their characteristics (OP-751)
* Backend: Fixed a bug with the CRUSH map which caused the server to loop
  endlessly (OP-865)
* Backend: Let the ceph module fail graciously (OP-1022)
* Backend: Implement the pagination for Ceph pools (OP-1026) 
* Backend: Added additional information to be retrieved about Ceph pools using
  the RESTful API (OP-1053)
* Backend: The name of a netdevice allows a length of up to 15 characters now
  (OP-960) (thanks to Willi Fehler for reporting the issue)
* Backend: Fixed bug - add local volumes to local fstab only (OP-1058)
* Backend: Fixed bug - removing an Ext3/Ext4/XFS filesystem volume that exports
  an nfs share didn't work properly (OP-736)
* Backend/Gatling: Cleaned up Gatling (OP-1025)
* Installation: "oaconfig install" now skips all LVM volume groups tagged with
  "sys", so they won't be added to the oA database (OP-564). Fixed oaconfig
  add-vg <volume group> so that it aborts if the VG does not exist or is tagged
  as "sys". Updated the installation documentation and replaced "@sys" with
  "sys" (LVM strips the @-sign from the tag)
* Installation: Fixed deprecation warning when importing rtslib on systems that
  ship rtslib-fb (e.g. EL7) (OP-953)
* Installation: marked openattic.repo in the RPM subpackage openattic-release
  as a configuration file, to protect it from getting mangled by RPM updates
  (OP-987)
* Installation: Updated RPM and DEB packaging to include the new "nodb" Python
  modules, added dependency on the "python-rados" package (OP-1021)
* Documentation: Added Gatling document to openATTIC documentation (OP-894)

Version 2.0.9, 16. Mar 2016:
----------------------------

* WebUI: Review licenses of bower packages and NPM modules (OP-857)
* WebUI: Update versions of bower dependencies (OP-904)
* WebUI: Update versions of npm packages (OP-906)
* WebUI/QA: Refactored "volumes add" E2E tests (OP-921)
* Installation: Removed "oaconfig install <package>" functionality, as it
  wasn't portable and package installation should rather be performed by
  the dedicated OS tools (e.g. apt-get or yum) (OP-659)
* Installation: Fixed error in "oaconfig install" that resulted in an
  incomplete installation ("This command requires oacli to be
  configured") (OP-950)
* Monitoring: Removed hard-code path names in the openATTIC Nagios plugins,
  created distribution-specific configuration files and added configuration
  options for Nagios-specific settings (OP-842) (thanks to Eric Jackson for
  the patch)
* Installation: The Nagios plugins now use the distribution's default
  directory /var/lib/nagios on EL7 to store runtime information (as
  configured via the setting NAGIOS_STATE_DIR in
  /etc/(default|sysconfig)/openattic) instead of /var/lib/nagios3 (which is
  the default in Debian). Removed directory /var/lib/nagios3 from the
  openattic-module-nagios RPM package.
* Installation: Added missing package dependencies (bc, nagios-plugins-tcp)
  to the openattic-plugin-monitoring RPM so that the "check_openattic_*"
  Nagios plugins actually work on EL7 (OP-976, OP-977)
* Installation: The Nagios plugins now read /etc/(default|sysconfig)/openattic
  to obtain distribution-specific configuration options (esp. path names).
  This makes them more portable across distributions and resolves most the
  issues observed on EL7 and SLES12 (except for the pnp4nagios configuration,
  which still requires manual intervention on EL7) (OP-820).
* Installation: added tmpfiles.d/openattic.conf to the RPM package to
  re-create /var/lock/openattic after a reboot (OP-738)
* Installation: Added missing pnp4nagios config files to openattic-module-
  nagios RPM (OP-983)
* Installation: Added /etc/openattic to the openattic-base RPM (OP-982)
* Documentation: Improved the EL7 installation instructions, added note 
  about pnp4nagios configuration (OP-981)
* Documentation: Restructured and refined the installation instructions
* Documentation: Added trade mark notice

Version 2.0.8, 1. Mar 2016:
---------------------------

* WebUI: Allow deletion of multiple volumes (OP-339)
* WebUI: Display first and last name instead of username (OP-792)
* WebUI: Redirect a logged in user to from login to dashboard (OP-799)
* WebUI: Refresh snapshot panel instead of volume panel (OP-817)
* WebUI: Fixed all jshint and jscs errors (OP-826)
* WebUI: added copyright/license header (OP-837)
* WebUI: Don't allow the user to deactivate himself (OP-851)
* WebUI: Updated favicon to newer version (OP-859)
* WebUI: Adjust the volume protection dialog box to be intuitive (OP-869)
* WebUI: Visibility of volume tab menu (OP-876)
* WebUI/QA: readded protractor zfs e2e test suits
* WebUI/QA: E2E test for OP-851, to verify that you can't deactivate your
  profile (OP-852)
* WebUI/QA: E2E test for deletion of multiple volumes (OP-853)
* WebUI/QA: E2E test for OP-792, to verify the displayed name (OP-868)
* WebUI/QA: Adjusted E2E tests with volume protection for OP-869 (OP-870)
* WebUI/QA: Adapted E2E tests related to OP-339 - Allow deletion of multiple
  volumes (OP-871)
* WebUI/QA: re-added commandlog check ('lvcreate') for specific volume (see
* OP-873)
* WebUI/QA: fixed snapshot test related to OP-817 (OP-881)
* WebUI/QA: extended all storage tab tests by checking the url OP-891 - related
  to OP-817 (OP-891)
* WebUI/QA: extended general e2e tests by checking the url when menu entry has
  been clicked (OP-897)
* WebUI/QA: More tests for multiple selections (OP-875)
* WebUI/QA: Fix selection problem in multiple_volume_deletion (OP-908)
* WebUI: Show a delete button if multiple volumes are selected (OP-884)
* WebUI/QA: Adapt OP-884-related e2e tests (OP-916)
* Backend: added copyright/license header to gatling files (OP-844)
* Backend/Gatling: Removed colorizer.py from the Gatling API test framework due
  to licensing concerns (OP-924)
* Documentation: updated documentation (section e2e, OP-910)
* Installation: Adding distro specific settings for monitoring (OP-842)
  (thanks to Eric Jackson for the contribution)
* Installation: Fixed installation errors on EL7 that were caused be the update
  of Nagios to version 4 in the EPEL package repository. Currently, pnp4nagios
  needs to be configured manually for the performance graphs to be displayed.
  (OP-820)
* Installation: Updated and improved the installation and content of the
  default configuration file /etc/default/openattic (OP-920)
* Packaging: Included the build scripts into the official repository. They can
  be used to create a tar archive and with that, the corresponding Debian or
  RPM packages. (OP-892)
* Packaging: Introduced a new command line switch for build_deb_packages.py to
  update a local repository with the newly built packages (OP-948)
* Installation: Trimmed down the list of required Nagios plugins in the RPM
  package (OP-942)


Version 2.0.7, 19. Jan 2016:
----------------------------

* WebUI: Fixed jshint and jscs errors (OP-826)
* WebUI/QA: extended host e2e test in order to check the correct title (see OP-855)
* Backend: Added possibility to see the own authentication token via
  http://<openattic-host>/openattic/api/users or
  http://<openattic-host>/openattic/api/users/<user-id> views
  (if one is set) (OP-833)
* Backend: Added a detail route to create a new authentication token
  for an existing user (OP-834)
* Documentation: updated developer documentation by adding missing git install
* Documentation: added sections about authentication in general and how you
  can get the authentication token of your own openattic user (OP-860).

Version 2.0.6, 19. Jan 2016:
----------------------------

* WebUI: Added grunt-jscs v2.5.0 (OP-832)
* WebUI: Updated grunt-contrib-jshint from 0.6.4 to 0.11.3 (OP-825)
* WebUI: Fixed jshint and jscs errors (OP-826)
* WebUI: fixed wrong title header in host edit action, see OP-854
* WebUI/QA: updated e2e wizard test by using the updated
  check_wizard titles helper function (OP-828)
* WebUI/QA: check fullscreen mode (see OP-700 / OP-811)
* WebUI/QA: updated VM Storage wizard e2e (see OP-843)
* WebUI/QA: added wizard e2e test based on zfs/iscsi (see OP-628)
* Installation: Added cron to the requirements of the openattic-module-twraid
  RPM subpackage (OP-845)
* Backend: The authentication token of a user is now obtainable by correct
  username and password if the user is not logged in (OP-841)
* Code cleanup: Updated date in copyright headers (OP-836)
* Documentation: fixed package name and added protractor version
  (section E2E), see OP-847

Version 2.0.5, 15. Dec 2015:
----------------------------

* Installation: Removed dependency on the djextdirect Python module from the
  RPM and DEB packages, removed obsolete file backend/rpcd/extdirect.py
  (OP-784)
* Installation: Added call to start and enable the rpcbind service before
  starting the NFS server in the openattic-module-nfs RPM package (OP-786)
* Installation: Removed obsolete dependency on the Oxygen icon set from the
  RPM package dependencies (OP-787)
* Installation: Make sure to start and enable Samba when installing the
  openattic-module-samba RPM on RHEL7 and derivatives (OP-788)
* Installation: Updated the RPM package installation to no longer install all 
  files as owned by the openattic user (OP-819)
* Packaging: added openattic-module-lio to the openattic meta RPM package
  dependencies, moved dependency on python-rtslib from the openattic-base
  package to the openattic-module-lio RPM, as it's the only one that requires
  it (and to be in line with dependencies defined by the DEB packages).
* Backend: added loading of kernel modules "target_core_iblock" and
  "target_core_pscsi" to the LIO backend, to fix a "fabric iscsi not
  loaded" error observed on CentOS 7 (OP-722).
* Backend: Added RESTful API functionality to grow unformatted DRBD
  connections and related Gatling API tests (OP-667 / OP-707)
* Web UI: Fixed full screen mode. (OP-700)
* Web UI: Snapshots are sortable by 'create date' now (OP-814)
* Web UI/QA: added e2e test for bugfix OP-748 (Clicking the openATTIC icon
  on the login page bypasses the login prompt)
* Web UI/QA: added e2e test for OP-542 (relates to bug OP-597 -> Raw hard Disks
  appear in the "Volumes" overview and can be shared via iSCSI);
  since the iscsi/fc storage tab is no longer visible when
  clicking a disk in volumes panel, the respective test should check this
* WebUI/QA: added E2E test for scenario described in OP-588 
  ("When creating a new user, app should warn about existing user names.")
* Web UI: Fixed checking for a name that has been already taken
  while editing users or hosts. (OP-796)
* Web UI / QA: Test to verify unique names in user and host editing mode.  
* Web UI: Checking for an unique name for a new user now. (OP-588)
* Web UI: Restrict unauthorized access to the UI. (OP-748)
* Web UI: Deactivated menu entry "iSCSI/FC" for physical disks listed in
  volumes. (OP-542)
* Web UI: Changed Dashboard, Disks, Pools, Volumes, System and API-Recorder
  icons
* WebUI/QA: fixed user e2e test which did not work properly in chromium anymore
  (see OP-821)  

Version 2.0.4, 17. Nov 2015:
----------------------------

* Web UI: Fixed scripts created by the API Recorder (OP-608, OP-657, OP-712)
* Web UI: Created E2E tests for enabled/disabled storage tabs depending on the
  clicked volume type (OP-690)
* Web UI: Fixed visibility of storage tabs based on the volume type (OP-692)
* Web UI: Updated end to end tests in order to run with Firefox (in addition to
  Chromium) (OP-729)
* Web UI: Fixed look of dropdown list/menus, added autosizing support (OP-656)
* Web UI: Updated Logo. Clicking the logo now opens the Dashboard
* Web UI: Added example configuration template for the E2E tests
* Backend: Updated the DRBD module to use the RESTful API instead of the
  peerhost module (which uses the XML-RPC API) (OP-586)
* Backend: Added functionality and RESTful API test cases (Gatling) to create a
  filesystem on top of a DRBD connection (OP-681, OP-707)
* Installation: Removed executable bits from files that don't need it (OP-696)
* Installation: Fixed wrong end-of-line encodings in many files (CR+LF instead
  of LF) (OP-695)
* Installation: Updated openattic.conf httpd configuration file to support both
  the Apache 2.2 and 2.4 access control directives (OP-709)
* Documentation: Added note on basic Ceph configuration to the installation
  chapter (OP-697)
* Documentation: Added chapter about contributing and working with Mercurial,
  updated E2E test documentation
* Documentation: Improved the readability of the openATTIC documentation

Version 2.0.3, 16. Oct 2015:
----------------------------

* API/Backend: Created DRBD REST-API that supports creating and deleting
  mirrored volumes (OP-216).
* Web UI: Merged the Ceph Enterprise UI components (CRUSH map editing) into the
  main repo (OP-675).
* Web UI: The openATTIC login screen now automatically places the input focus
  on the username input field, adjusted the login icon width (OP-688, OP-689)
* Web UI: Created E2E tests for login with new created user account (OP-629),
  extended and added numerous additional E2E tests.
* Web UI: Clicking the Delete button with no host selected no longer triggers a
  delete action (OP-683)
* Installation: Fixed lots of "user/group does not exist" warnings that ocurred
  when installing the EL7 RPMs (OP-536)
* Installation: Moved log files into /var/log/openattic and created a
  logrotate.conf file (OP-660, OP-661)
* Installation: Removed /var/log/openattic_vgmanager from the Debian packages
  (OP-663)
* Installation: Fixed RPM dependencies: all modules depend on "openattic-base"
  now, removed openattic-base dependency from the "openattic" meta package.
* Documentation: Updated the installation and development system setup chapters.

Version 2.0.2, 09 Sep 2015:
---------------------------

* API: Merged the formerly separate REST API test suite into the
  openATTIC code base (subdirectory "gatling").
* Web UI: Merged the formerly separate Web UI into the openATTIC code base
  (subdirectory "webui").
* Documentation: Created an initial version of the 2.0 documentation (derived
  from the 1.2 docs) and added it to the openATTIC code base (subdirectory
  "documentation") (OP-502).
* Added Ceph module and created openattic-module-ceph installation package
  (OP-623, OP-624).
* Installation: Fixed RPM installation error ("semanage: command not found)
  (OP-571).
* Installation: created "openattic-release" RPM package, to simplify the
  installation process (OP-537).
* Web UI: Fixed some UI usability issues, e.g. "When deleting a volume,
  pressing "Enter" after confirming the volume name cancels the delete action"
  (OP-565), "Pressing "Enter" in the volume resize dialoge cancels the
  intended action" (OP-601).
* WebUI: Heavily extended the UI test suite.
* WebUI: Added missing Volume Resize option (OP-425).
* WebUI: Fixed broken Disk Details URL on the Disk Management page (OP-540).
* Installation: Fixed "/var/lib/openattic/ftp does not exist" warning during
  the installation (OP-508).
* Web UI: Fixed iSCSI LUNs not deletable (OP-618, thanks to Felix Netzel for
  reporting).
* Web UI: Fixed a login problem with a newly created user (OP-615, thanks to
  Felix Netzel for reporting).
* Installation: Fixed an issue with `oaconfig restart/reload` on RHEL 7 and
  derivatives (OP-572).
* Installation: Fixed "semanage: command not found" error during RPM upgrade
  (OP-571).
* WebUI: Unified the types of the checkboxes of the cluster status widget
  (OP-566).
* Installation: Fixed a missing "python-djangorestframework" dependency for
  Ubuntu 14.04 (OP-510).
* Installation: Overhauled the EL7 RPM packages. RPM packages are now signed
  with GPG.
* Adding iSCSI LUNs now only works for hosts that have iqn/wwn attributes
  (OP-469).
* WebUI: Added performance graph to the Dashboard.
* Installation: Fixed oaconfig failure when /etc/aliases is missing (thanks
  to Thomas Schweikle for reporting).
* Installation: Added --allow-broken-hostname option to allow "oaconfig
  install" to proceed without a correctly-configured FQDN (OP-501).

Version 2.0.1, 10 July 2015:
----------------------------

* Added support for the "Restore previous versions" Windows Explorer feature.
* Improved robustness of the LIO module.
* Added physical block device abstraction.
* Added basic volume pool creation.
* Improved iSCSI performance.
* Added serverstats URL that returns an eventstream of live statistics.
* Improved robustness of share creation and deletion.
* Removed support for FTP and TFTP.

Version 1.2.1, 24 November 2014:
--------------------------------

* Fixed mapping a LUN to multiple initiators.

Version 1.2.0, 12 August 2014:
------------------------------

* Fixed LVM snapshots being zeroed after creation.
* Added ZFS snapshots.
* Added BTRFS snapshots.
* Added mounting of OtherFS snapshots in a .snapshots directory under the
  file system.
* Added automatic creation of Nagios services for existing volumes during
  oaconfig install.
* Fixed mountpoints not being deleted when volumes are unmounted.
* Added volume clone API.
* Added ZVol API.
* Fixed RPCd causing mayhem by not properly closing database connections.
* Fixed FileSystemVolume Nagios checks being initialized incorrectly during
  oaconfig install.
* Added basic quota support for ZFS volumes.
* Fixed XFS resize.
* Fixed date conversion in the Nagios module.
* Fixed incorrect service arguments for check_disk check command.
* Removed support for OCFS2.
* Changed primary IP address detection to judge candidates by the default gw.
* Changed IP address detection to format netmasks using CIDR notation.
* Fixed various bugs in the DRBD resource creation and deletion process.
* Added functionality to format existing block devices.
* Fixed the paginator in the command log panel.
* Changed DRBD Device Minor allocation to use the lowest available ID, which
  fixed the bug that openATTIC ran out of usable IDs.
* Added resize functionality for DRBD connections.
* Fixed error when deleting a volume that has snapshots.

Version 1.1.1, 01 April 2014:
---------------------------------

* Fixed Volume Management refresh to also refresh the root objects.
* Fixed exception caused by querying an LV that has not yet been fully created.
* Fixed LVM VG detection (detected VGs did not show up in the GUI).
* Fixed DRBD mirror plugin for the Volume Options GUI.

Version 1.1.0, 09 March 2014:
---------------------------------
* Improved Nagios disk load graphs.
* Added support for scheduled snapshots.
* Added Host and HostGroup management.
* Added support for querying file systems mounted on remote hosts.
* Removed support for IETD.
* Added support for LIO (linux-iscsi.org).
* Added multithreading support to the RPCd.
* Added fancy Nagios service notifications.
* Added Host Attributes mechanism.
* Added volume abstraction layer.
* Updated ExtJS to version 4, yielding various GUI improvements.
* Added support for SINGLE RAID units.
* Added app for MD-RAID.
* Refactored file system handlers.
* Added support for deferred function execution to the systemd.
* Added DRBD module.
* Added function to automatically wipe old metadata from newly created volumes.
* Added auto-create function for PeerHost and APIKey entries.


Version 1.0.7, 22 May 2013:
---------------------------------

* Replaced SSMTP module with mailaliases module.
* Added double-click edit feature to most grid panels.
* Added Cron module.
* Added LV resize feature.
* Improved internationalization support.
* Added check_diskstats Nagios plugin that measures disk performance.
* Improved File System abstraction API.
* Added IPMI sensors module.
* Added oavgmanager CLI tool.
* Added Cluster support.
* Dropped support for Samba in a non-Domain context.
* Added ^f search feature to the GUI.
* Fixed a bug in RPCd which would require authentication, but fail to
  ask for it.
* Added F5 refresh feature to the GUI.
* Added API Recorder to the GUI.
* Added TWRaid module.
* Added LV UUIDs to the database.
* Added file system layout optimization feature.
* Added support for volume initialization scripts.
* Added support for Kerberos authentication.
* Replaced ZFS-FUSE with zfsonlinux.
* Added SnapApp basics.
* Added support for Deduplication and Compression for file systems that
  support them (currently, only zfsonlinux does).
* Added support for Univention Corporate Server (UCS) 3.1.
* Added support for Virtual File System Modules.
* Modified hosts table to store FQDNs instead of plain hostnames.
* Refactored Nagios hosts/services templates to not rely on generics.
* Added basic BTRFS support.
* Fix dates not being displayed correctly for some locales.
* Added LV creation date to the database.
* Removed NTP and Proxy modules.
* Changed "oaconfig install" to be completely non-interactive.


Version 0.7.4, 07 March 2012:
-----------------------------

* Fixed the Nagios syncdb hook which caused the initial syncdb to fail.


Version 0.7.3, 05 March 2012:
-----------------------------

* First release.
