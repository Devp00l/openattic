<article class="col-sm-12 col-md-12 col-lg-6">
    <div class="jarviswidget" id="wid-id-1" data-widget-editbutton="false" data-widget-custombutton="false">
        <header>
            <span class="widget-icon"> <i class="fa fa-edit"></i></span>
            <h2 ng-hide="editing">Create User: {{user.username}}</h2>
            <h2 ng-show="editing">Edit User: {{user.username}}</h2>
        </header>
        <div>
            <div class="widget-body">
                <form name="userForm" role="form" class="form-horizontal" novalidate>
                    <div class="col-md-2">
                        <img ng-src="{{image}}" class="img-thumbnail"/>
                    </div>
                    <div class="col-md-10">
                        <fieldset>
                            <div class="form-group" ng-class="{'has-error': (submitted || userForm.username.$dirty) &&
                            userForm.username.$invalid}">
                                <label class="col-md-2 control-label" for="userUsername">Username</label>
                                <div class="col-md-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"> <i class="icon-prepend fa fa-user"></i></span>
                                        <input class="form-control" type="text" placeholder="Username..."
                                               ng-model="user.username" name="username" id="userUsername" required>
                                    </div>
                                    <span class="help-block" ng-show="(submitted ||userForm.username.$dirty)
                                    && userForm.username.$error.required">
                                        The username is required.
                                    </span>
                                </div>
                            </div>
                            <div class="form-group" ng-if="!editing" ng-class="{'has-error': (submitted || userForm.password.$dirty)
                            && userForm.password.$invalid}">
                                <label class="col-md-2 control-label" for="userPassword">Password</label>
                                <div class="col-md-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"> <i class="icon-prepend fa fa-key"></i></span>
                                        <input class="form-control" type="password" placeholder="Password..."
                                               ng-model="user.password" name="password" id="userPassword" required>
                                    </div>
                                    <span class="help-block" ng-show="(submitted ||userForm.password.$dirty)
                                    && userForm.password.$error.required">
                                        A password is required.
                                    </span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label" for="userFirstname">Firstname</label>
                                <div class="col-md-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="icon-prepend fa fa-user"></i></span>
                                        <input class="form-control" type="text" placeholder="Firstname..."
                                               ng-model="user.first_name" name="firstname" id="userFirstname">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-2 control-label" for="userLastname">Lastname</label>
                                <div class="col-md-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"> <i class="icon-prepend fa fa-user"></i></span>
                                        <input class="form-control" type="text" placeholder="Lastname..."
                                               ng-model="user.last_name" name="last" id="userLastname">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" ng-class="{'has-error': (submitted || userForm.email.$dirty) &&
                            userForm.email.$invalid}">
                                <label class="col-md-2 control-label" for="userEmail">Email Address</label>
                                <div class="col-md-10">
                                    <div class="input-group">
                                        <span class="input-group-addon"> <i class="icon-prepend fa fa-envelope-o"></i></span>
                                        <input class="form-control" type="email" placeholder="Email Address..."
                                               ng-model="user.email" name="email" id="userEmail">
                                    </div>
                                    <span ng-show="(submitted ||userForm.email.$dirty) && userForm.email.$error.email">
                                        It's not a valid email address.
                                    </span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <checkbox ng-model="user.is_active" name="active" id="userActive"></checkbox>
                                    <label>
                                        Is active
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <checkbox ng-model="user.is_staff" name="staff" id="userStaff"></checkbox>
                                    <label>
                                        Is administrator
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <checkbox ng-model="user.is_superuser" name="superuser" id="userSuperuser"></checkbox>
                                    <label>
                                        Has all privileges
                                    </label>
                                </div>
                            </div>
                        </fieldset>
                        <div class="form-group">
                            <div class="pull-right" style="padding: 6px 16px">
                                <button type="submit" class="btn btn-primary" ng-click="submitAction(userForm)">
                                    Submit
                                </button>
                                <button type="button" class="btn btn-default" ng-click="cancelAction()">
                                    Back
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</article>
