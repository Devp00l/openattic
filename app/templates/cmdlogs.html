<div ng-controller="CmdlogCtrl">
    <div>
        <oadatatable data="data" filter-config="filterConfig" selection="selection">
            <actions>
                <a class="btn btn-lg btn-primary" type="button" ng-click="deleteAction()" ng-class="{disabled: !hasSelection}" max-selected=1><i class="fa fa-fw fa-trash-o"></i> Delete</a>
                <li ng-class="{disabled: !hasSelection}" max-selected=1><a ng-click="deleteAction()"><i class="fa fa-fw fa-trash-o"></i> Delete</a></li>
            </actions>
            <table class="table table-striped table-bordered table-hover dataTable">
                <thead>
                    <tr>
                        <th class="oadatatablecheckbox" ng-if="selection.available"><input type="checkbox" ng-model="select.checkAll"/></th>
                        <th sortfield="command" sortheaderclass ng-show="columns['Command']">Command</th>
                        <th ng-show="columns['Text']">Text</th>
                        <th sortfield="exitcode" sortheaderclass ng-show="columns['Exitcode']">Exitcode</th>
                        <th sortfield="host" sortheaderclass ng-show="columns['Host']">Host</th>
                        <th sortfield="endtime" sortheaderclass sortdefault ng-show="columns['Endtime']" sortorder="DESC">Endtime</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="row in data.results" ng-class="{ info: isRowSelected(row), danger: row.exitcode !== 0 }" ng-click="toggleSelection(row, $event)">
                        <td ng-if="selection.available"><input type="checkbox" checklist-model="selection.items" checklist-value="row"/></td>
                        <td ng-show="columns['Command']" ng-bind="row.command"></td>
                        <td ng-show="columns['Text']"><pre ng-bind="(row.text | shortlog)"></pre></td>
                        <td ng-show="columns['Exitcode']" ng-bind="row.exitcode"></td>
                        <td ng-show="columns['Host']" ng-bind="row.host.title"></td>
                        <td ng-show="columns['Endtime']" ng-bind="row.endtime | date:'short'"></td>
                    </tr>
                </tbody>
            </table>
        </oadatatable>
    </div>
</div>