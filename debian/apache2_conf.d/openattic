<IfModule mod_wsgi.c>

Alias                   /openattic/static/extjs_themes/images/default/ /usr/share/javascript/extjs/resources/images/default/
Alias                   /openattic/static/extjs/  /usr/share/javascript/extjs/
Alias                   /openattic/static/oxygen/ /usr/share/icons/oxygen/
Alias                   /openattic/static/admin/  /usr/share/pyshared/django/contrib/admin/static/admin/
Alias                   /openattic/static/        /usr/share/openattic/htdocs/

WSGIScriptAlias         /openattic                /usr/share/openattic/openattic.wsgi
WSGIDaemonProcess       openattic threads=25 user=openattic group=openattic
WSGIProcessGroup        openattic
WSGIScriptReloading     Off
WSGIPassAuthorization   On

<Directory /usr/share/openattic/htdocs>
	<IfModule mod_headers.c>
		<FilesMatch "\.(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf)$">
			Header set Cache-Control "max-age=86400, must-revalidate"
		</FilesMatch>
	</IfModule>
</Directory>

<Location /openattic>
	FileETag None
	<IfModule mod_deflate.c>
		AddOutputFilterByType DEFLATE text/html text/plain text/css text/javascript image/png image/jpeg image/gif
		<IfModule mod_headers.c>
			# properly handle requests coming from behind proxies
			Header unset ETag
			Header append Vary User-Agent
		</IfModule>
	</IfModule>
</Location>

# Enable this after you joined openAttic into the domain.
#<Location /openattic/accounts/kerblogin.js>
#	# AUTHENTICATION: Kerberos
#	AuthType Kerberos
#	KrbAuthRealms DOMAIN.TLD
#	# Normally, KrbServiceName is not needed. Only uncomment this if the defaults don't work.
#	# KrbServiceName HTTP/openattic.domain.tld@DOMAIN.TLD
#	Krb5Keytab /etc/krb5.keytab
#	KrbMethodNegotiate on
#	KrbMethodK5Passwd off
#	Require valid-user
#
#	# AUTHORIZATION: LDAP user group membership
#	AuthzLDAPAuthoritative on
#	KrbLocalUserMapping On
#	# Bind credentials for Apache
#	AuthLDAPBindDN "cn=someuser,cn=Users,dc=DOMAIN,dc=TLD"
#	AuthLDAPBindPassword somepassword
#	# Where to search for your users
#	AuthLDAPURL "ldap://dc.domain.tld/OU=Users,DC=domain,DC=tld?sAMAccountName?sub?"
#	AuthLDAPRemoteUserAttribute "sAMAccountName"
#	# Require users to be in the following group in order to be granted access.
#	Require ldap-filter memberof:1.2.840.113556.1.4.1941:=CN=openAttic-Administratoren,OU=Users,DC=domain,DC=tld
#</Location>

</IfModule>
